#!/bin/bash
self="$(basename "${BASH_SOURCE[0]}")"
[ "$#" -ne 1 ] && echo "usage: ${self} <commit-id>" && exit 1

set -e -x
commit_id="$1"
git rev-parse --verify "${commit_id}"
commit_msg="$(git log -1 --pretty=format:%s)"
git reset --soft "${commit_id}"
git commit --signoff --message="${commit_msg}"
