#
# USER SPECIFIC:
#

# If not running interactively, don't do anything
[ -z "$PS1" ] && return

# Source system files
sysfiles=(
	/etc/bashrc
	/etc/profile
        /usr/share/git-core/contrib/completion/git-prompt.sh
        /etc/bash_completion.d/git-prompt
	 )
for f in "${sysfiles[@]}"; do
	if [ -f "$f" ]; then
		source "$f"
	fi
done

# Dotfiles' root-dir
ROOT=$(realpath $(dirname $BASH_SOURCE[0])/../)
#ROOT=${HOME}/synarete/dotfiles

# Colors & functions
source ${ROOT}/bash/bash_colors
source ${ROOT}/bash/bash_functions

# Editor
export EDITOR=vim

# Terminal type (for vim within tmux)
export TERM=xterm-256color

# Bash history
export HISTSIZE=10000
export HISTCONTROL=ignoreboth:erasedups

# Prompt
#export PS1='[\u@\h \W]\$ '
export PROMPT_DIRTRIM=4
export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWSTASHSTATE=1
export GIT_PS1_SHOWUNTRACKEDFILES=1
export GIT_PS1_SHOWUPSTREAM="auto"
#export GIT_PS1_SHOWUPSTREAM=verbose
export GIT_PS1_DESCRIBE_STYLE=branch
export GIT_PS1_SHOWCOLORHINTS=1
export GIT_PS1_HIDE_IF_PWD_IGNORED=1
export PS1="[${GREEN}\u@\h${NORMAL} ${BRIGHT_VIOLET}\w${NORMAL}${NORMAL}]${BRIGHT_YELLOW}\$(__git_ps1)${NORMAL}\$ ${RESET}"

# Aliases
alias ll='ls -lh'
alias ltr='ls -ltrh'
alias lss='ls -lhs'
alias la='ls -A'
alias l='ls -CF'
alias cd..='cd ..'
alias tailf='tail -f'
alias tree='tree -C -F --dirsfirst'
alias emc='emacsclnt'
alias emd-start='emacsd_start'
alias emd-stop='emacsd_stop'
alias rgrepc='egrep -Rn --include="*.[ch]" '

# Check the window size after each command and update
shopt -s checkwinsize

# Be generous to Java apps (eclipse)
# export _JAVA_OPTIONS="-Xms512m -Xmx1g"

# Have python history file
export PYTHONSTARTUP=${ROOT}/bash/pystartup


